.TH QPIDD "1" "March 2011" "qpidd (qpidc) version 0.11" "User Commands"
.SH NAME

qpidd \- the Qpid AMQP Message Broker Daemon

.SH SYNOPSIS

qpidd [-p port] [--config config_file] [--data-dir directory]

.SH DESCRIPTION

An AMQP message broker daemon that stores, routes and forwards
messages using the Advanced Message Queueing Protocol (AMQP).

.SH OPTIONS

The options below are built-in to qpidd. Installing add-on modules provides additional options. To see the full set of options available type "qpidd --help"

Options may be specified via command line, environment variable or configuration file. See FILES and ENVIRONMENT below for details.

.PP

.SS Options

.TP
\-h [ \-\-help ]
Displays the 
help message
.TP
\-v [ \-\-version ]
Displays version
information
.TP
\-\-config FILE (/home/remote/aconway/install/etc/qpidd.conf)
Reads configurat
ion from FILE

.SS Module options
.TP
\-\-module\-dir DIR (/home/remote/aconway/install/lib/qpid/daemon)
Load all 
shareable 
modules in 
this directo
ry
.TP
\-\-load\-module FILE
Specifies 
additional 
module(s) to
be loaded
.TP
\-\-no\-module\-dir
Don't load 
modules from
module 
directory

.SS Broker Options
.TP
\-\-data\-dir DIR (/home/remote/aconway/.qpidd)
Directory to contain 
persistent data generated
by the broker
.TP
\-\-no\-data\-dir
Don't use a data 
directory.  No persistent
configuration will be 
loaded or stored
.TP
\-p [ \-\-port ] PORT (5672)
Tells the broker to 
listen on PORT
.TP
\-\-worker\-threads N (9)
Sets the broker thread 
pool size
.TP
\-\-max\-connections N (500)
Sets the maximum allowed 
connections
.TP
\-\-connection\-backlog N (10)
Sets the connection 
backlog limit for the 
server socket
.TP
\-m [ \-\-mgmt\-enable ] yes|no (1)
Enable Management
.TP
\-\-mgmt\-qmf2 yes|no (1)
Enable broadcast of 
management information 
over QMF v2
.TP
\-\-mgmt\-qmf1 yes|no (1)
Enable broadcast of 
management information 
over QMF v1
.TP
\-\-mgmt\-pub\-interval SECONDS (10)
Management Publish 
Interval
.TP
\-\-queue\-purge\-interval SECONDS (600)
Interval between attempts
to purge any expired 
messages from queues
.TP
\-\-auth yes|no (1)
Enable authentication, if
disabled all incoming 
connections will be 
trusted
.TP
\-\-realm REALM (QPID)
Use the given realm when 
performing authentication
.TP
\-\-default\-queue\-limit BYTES (104857600)
Default maximum size for 
queues (in bytes)
.TP
\-\-tcp\-nodelay
Set TCP_NODELAY on TCP 
connections
.TP
\-\-require\-encryption
Only accept connections 
that are encrypted
\-\-known\-hosts\-url URL or \&'none'                     URL to send as 
\&'known\-hosts' to clients 
(\&'none' implies empty 
list)
.TP
\-\-sasl\-config DIR
gets sasl config info 
from nonstandard location
.TP
\-\-max\-session\-rate MESSAGES/S (0)
Sets the maximum message 
rate per session 
(0=unlimited)
.TP
\-\-async\-queue\-events yes|no (0)
Set Queue Events async, 
used for services like 
replication
.TP
\-\-default\-flow\-stop\-threshold %MESSAGES (80)
Queue capacity level at 
which flow control is 
activated.
.TP
\-\-default\-flow\-resume\-threshold %MESSAGES (70)
Queue capacity level at 
which flow control is 
de\-activated.
.TP
\-\-default\-event\-threshold\-ratio %age of limit (80)
The ratio of any 
specified queue limit at 
which an event will be 
raised

.SS Logging options
.TP
\-t [ \-\-trace ]
Enables all logging
.TP
\-\-log\-enable RULE (notice+)
Enables logging for selected levels 
and components. RULE is in the form 
\&'LEVEL[+][:PATTERN]' Levels are one 
of: 
trace debug info notice warning 
error critical
For example:
\&'\-\-log\-enable warning+' logs all 
warning, error and critical messages.
\&'\-\-log\-enable debug:framing' logs 
debug messages from the framing 
namespace. This option can be used 
multiple times
.TP
\-\-log\-time yes|no (1)
Include time in log messages
.TP
\-\-log\-level yes|no (1)
Include severity level in log 
messages
.TP
\-\-log\-source yes|no (0)
Include source file:line in log 
messages
.TP
\-\-log\-thread yes|no (0)
Include thread ID in log messages
.TP
\-\-log\-function yes|no (0)
Include function signature in log 
messages
.TP
\-\-log\-prefix STRING
Prefix to append to all log messages

.SS Logging sink options
.TP
\-\-log\-to\-stderr yes|no (1)
Send logging output to stderr
.TP
\-\-log\-to\-stdout yes|no (0)
Send logging output to stdout
.TP
\-\-log\-to\-file FILE
Send log output to FILE.
.TP
\-\-log\-to\-syslog yes|no (0)
Send logging output to syslog;
customize using \-\-syslog\-name and 
\-\-syslog\-facility
.TP
\-\-syslog\-name NAME (lt\-qpidd)
Name to use in syslog messages
.TP
\-\-syslog\-facility LOG_XXX (LOG_DAEMON)
Facility to use in syslog messages

.SS Daemon options
.TP
\-d [ \-\-daemon ]
Run as a daemon. Logs to syslog 
by default in this mode.
.TP
\-\-transport TRANSPORT (tcp)
The transport for which to 
return the port
.TP
\-\-pid\-dir DIR (/home/remote/aconway/.qpidd)
Directory where port\-specific 
PID file is stored
.TP
\-w [ \-\-wait ] SECONDS (600)
Sets the maximum wait time to 
initialize the daemon. If the 
daemon fails to initialize, 
prints an error and returns 1
.TP
\-c [ \-\-check ]
Prints the daemon's process ID 
to stdout and returns 0 if the 
daemon is running, otherwise 
returns 1
.TP
\-q [ \-\-quit ]
Tells the daemon to shut down

.SH FILES
.I /etc/qpidd.conf
.RS
Default configuration file.
.RE

Configuration file settings are over-ridden by command line or environment variable settings. '--config <file>' or 'export QPID_CONFIG=<file>' specifies an alternate file.

Each line is a name=value pair. Blank lines and lines beginning with # are ignored. For example:

  # My qpidd configuration file.
  port=6000
  max-connections=10
  log-to-file=/tmp/qpidd.log

.SH ENVIRONMENT
.I QPID_<option>
.RS
There is an environment variable for each option.
.RE

The environment variable is the option name in uppercase, prefixed with QPID_ and '.' or '-' are replaced with '_'. Environment settings are over-ridden by command line settings. For example:

  export QPID_PORT=6000
  export QPID_MAX_CONNECTIONS=10
  export QPID_LOG_TO_FILE=/tmp/qpidd.log

.SH AUTHOR

The Apache Qpid Project, dev@qpid.apache.org

.SH REPORTING BUGS

Please report bugs to users@qpid.apache.org
